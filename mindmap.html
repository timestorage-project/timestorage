<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.8/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.8/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.8/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Time Storage - Markmap","children":[{"content":"Canister Interaction Overview","children":[{"content":"Access Control","children":[{"content":"<table data-lines=\"11,20\">\n<thead data-lines=\"11,12\">\n<tr data-lines=\"11,12\">\n<th>Operation</th>\n<th style=\"text-align:center\">Admin</th>\n<th style=\"text-align:center\">Editor</th>\n<th style=\"text-align:center\">Public</th>\n</tr>\n</thead>\n<tbody data-lines=\"13,20\">\n<tr data-lines=\"13,14\">\n<td>Add/Remove Admin</td>\n<td style=\"text-align:center\">✅</td>\n<td style=\"text-align:center\">❌</td>\n<td style=\"text-align:center\">❌</td>\n</tr>\n<tr data-lines=\"14,15\">\n<td>Add/Remove Editor</td>\n<td style=\"text-align:center\">✅</td>\n<td style=\"text-align:center\">❌</td>\n<td style=\"text-align:center\">❌</td>\n</tr>\n<tr data-lines=\"15,16\">\n<td>Manage UUIDs</td>\n<td style=\"text-align:center\">✅</td>\n<td style=\"text-align:center\">✅</td>\n<td style=\"text-align:center\">❌</td>\n</tr>\n<tr data-lines=\"16,17\">\n<td>View All UUIDs</td>\n<td style=\"text-align:center\">✅</td>\n<td style=\"text-align:center\">❌</td>\n<td style=\"text-align:center\">❌</td>\n</tr>\n<tr data-lines=\"17,18\">\n<td>Manage Own UUIDs</td>\n<td style=\"text-align:center\">✅</td>\n<td style=\"text-align:center\">✅</td>\n<td style=\"text-align:center\">❌</td>\n</tr>\n<tr data-lines=\"18,19\">\n<td>Lock Values</td>\n<td style=\"text-align:center\">✅</td>\n<td style=\"text-align:center\">✅</td>\n<td style=\"text-align:center\">✅</td>\n</tr>\n<tr data-lines=\"19,20\">\n<td>Unlock Values</td>\n<td style=\"text-align:center\">✅</td>\n<td style=\"text-align:center\">❌</td>\n<td style=\"text-align:center\">❌</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"11,20"}}],"payload":{"tag":"h3","lines":"6,7"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"Endpoints","children":[{"content":"isAdmin","children":[{"content":"<strong>Check if caller is admin</strong>","children":[{"content":"<strong>Response</strong>: <code>true</code> or <code>false</code>","children":[],"payload":{"tag":"li","lines":"25,27"}}],"payload":{"tag":"li","lines":"24,27"}}],"payload":{"tag":"h3","lines":"23,24"}},{"content":"isEditor","children":[{"content":"<strong>Check if caller is editor</strong>","children":[{"content":"<strong>Response</strong>: <code>true</code> or <code>false</code>","children":[],"payload":{"tag":"li","lines":"29,31"}}],"payload":{"tag":"li","lines":"28,31"}}],"payload":{"tag":"h3","lines":"27,28"}},{"content":"addAdmin","children":[{"content":"<strong>Adds a new admin</strong>","children":[],"payload":{"tag":"li","lines":"32,33"}},{"content":"<strong>Requires</strong>: Admin role","children":[],"payload":{"tag":"li","lines":"33,34"}},{"content":"<strong>Params</strong>: <code>newAdmin: Principal</code>","children":[],"payload":{"tag":"li","lines":"34,35"}},{"content":"<strong>Response</strong>: <code>\"New admin added successfully.\"</code> or error","children":[],"payload":{"tag":"li","lines":"35,37"}}],"payload":{"tag":"h3","lines":"31,32"}},{"content":"addEditor","children":[{"content":"<strong>Adds a new editor</strong>","children":[],"payload":{"tag":"li","lines":"38,39"}},{"content":"<strong>Requires</strong>: Admin role","children":[],"payload":{"tag":"li","lines":"39,40"}},{"content":"<strong>Params</strong>: <code>newEditor: Principal</code>","children":[],"payload":{"tag":"li","lines":"40,41"}},{"content":"<strong>Response</strong>: <code>\"New editor added successfully.\"</code> or error","children":[],"payload":{"tag":"li","lines":"41,43"}}],"payload":{"tag":"h3","lines":"37,38"}},{"content":"removeAdmin","children":[{"content":"<strong>Removes an existing admin</strong>","children":[],"payload":{"tag":"li","lines":"44,45"}},{"content":"<strong>Requires</strong>: Admin role","children":[],"payload":{"tag":"li","lines":"45,46"}},{"content":"<strong>Params</strong>: <code>adminToRemove: Principal</code>","children":[],"payload":{"tag":"li","lines":"46,47"}},{"content":"<strong>Response</strong>: <code>\"Admin removed successfully.\"</code> or error","children":[],"payload":{"tag":"li","lines":"47,49"}}],"payload":{"tag":"h3","lines":"43,44"}},{"content":"removeEditor","children":[{"content":"<strong>Removes an existing editor</strong>","children":[],"payload":{"tag":"li","lines":"50,51"}},{"content":"<strong>Requires</strong>: Admin role","children":[],"payload":{"tag":"li","lines":"51,52"}},{"content":"<strong>Params</strong>: <code>editorToRemove: Principal</code>","children":[],"payload":{"tag":"li","lines":"52,53"}},{"content":"<strong>Response</strong>: <code>\"Editor removed successfully.\"</code> or error","children":[],"payload":{"tag":"li","lines":"53,55"}}],"payload":{"tag":"h3","lines":"49,50"}},{"content":"insertUUIDStructure","children":[{"content":"<strong>Creates a new UUID structure</strong>","children":[],"payload":{"tag":"li","lines":"58,59"}},{"content":"<strong>Requires</strong>: Admin <strong>or</strong> Editor role","children":[],"payload":{"tag":"li","lines":"59,60"}},{"content":"<strong>Params</strong>:","children":[{"content":"<code>uuid: Text</code>","children":[],"payload":{"tag":"li","lines":"61,62"}},{"content":"<code>schema: Text</code> (JSON)","children":[],"payload":{"tag":"li","lines":"62,63"}}],"payload":{"tag":"li","lines":"60,63"}},{"content":"<strong>Response</strong>: <code>\"UUID inserted successfully.\"</code> or error","children":[],"payload":{"tag":"li","lines":"63,65"}}],"payload":{"tag":"h3","lines":"57,58"}},{"content":"uploadFile","children":[{"content":"<strong>Uploads file (Base64) for a UUID</strong>","children":[],"payload":{"tag":"li","lines":"66,67"}},{"content":"<strong>Params</strong>:","children":[{"content":"<code>uuid: Text</code>","children":[],"payload":{"tag":"li","lines":"68,69"}},{"content":"<code>base64FileData: Text</code>","children":[],"payload":{"tag":"li","lines":"69,70"}},{"content":"<code>metadata: Types.FileMetadata</code>","children":[],"payload":{"tag":"li","lines":"70,71"}}],"payload":{"tag":"li","lines":"67,71"}},{"content":"<strong>Response</strong>: <code>\"File uploaded successfully...\"</code> or error","children":[],"payload":{"tag":"li","lines":"71,73"}}],"payload":{"tag":"h3","lines":"65,66"}},{"content":"9. getFileByUUIDAndId","children":[{"content":"<strong>Retrieves file data/metadata</strong>","children":[],"payload":{"tag":"li","lines":"74,75"}},{"content":"<strong>Params</strong>:","children":[{"content":"<code>uuid: Text</code>","children":[],"payload":{"tag":"li","lines":"76,77"}},{"content":"<code>fileId: Text</code>","children":[],"payload":{"tag":"li","lines":"77,78"}}],"payload":{"tag":"li","lines":"75,78"}},{"content":"<strong>Response</strong>: Returns file info or <code>\"File not found.\"</code>","children":[],"payload":{"tag":"li","lines":"78,80"}}],"payload":{"tag":"h3","lines":"73,74"}},{"content":"updateValue","children":[{"content":"<strong>Update a key-value</strong> for a given UUID","children":[],"payload":{"tag":"li","lines":"83,84"}},{"content":"<strong>Params</strong>: <code>req</code> with <code>{ uuid, key, newValue }</code>","children":[],"payload":{"tag":"li","lines":"84,85"}},{"content":"<strong>Response</strong>: <code>\"Value updated successfully.\"</code> or error","children":[],"payload":{"tag":"li","lines":"85,87"}}],"payload":{"tag":"h3","lines":"82,83"}},{"content":"updateManyValues","children":[{"content":"<strong>Batch update</strong> multiple key-value pairs","children":[],"payload":{"tag":"li","lines":"88,89"}},{"content":"<strong>Params</strong>:","children":[{"content":"<code>uuid: Text</code>","children":[],"payload":{"tag":"li","lines":"90,91"}},{"content":"<code>updates: [(Text, Text)]</code>","children":[],"payload":{"tag":"li","lines":"91,92"}}],"payload":{"tag":"li","lines":"89,92"}},{"content":"<strong>Response</strong>: <code>\"All values updated successfully.\"</code> or partial error list","children":[],"payload":{"tag":"li","lines":"92,94"}}],"payload":{"tag":"h3","lines":"87,88"}},{"content":"lockValue","children":[{"content":"<strong>Locks a single key</strong> to prevent changes","children":[],"payload":{"tag":"li","lines":"97,98"}},{"content":"<strong>Params</strong>: <code>{ uuid, key, lock = true }</code>","children":[],"payload":{"tag":"li","lines":"98,99"}},{"content":"<strong>Accessible</strong> by Admin, Editor, and Public","children":[],"payload":{"tag":"li","lines":"99,100"}},{"content":"<strong>Response</strong>: <code>\"Value locked successfully.\"</code> or error","children":[],"payload":{"tag":"li","lines":"100,102"}}],"payload":{"tag":"h3","lines":"96,97"}},{"content":"unlockValue","children":[{"content":"<strong>Unlocks a single key</strong>","children":[],"payload":{"tag":"li","lines":"103,104"}},{"content":"<strong>Requires</strong>: Admin role","children":[],"payload":{"tag":"li","lines":"104,105"}},{"content":"<strong>Params</strong>: <code>{ uuid, key }</code>","children":[],"payload":{"tag":"li","lines":"105,106"}},{"content":"<strong>Response</strong>: <code>\"Value unlocked successfully.\"</code> or error","children":[],"payload":{"tag":"li","lines":"106,108"}}],"payload":{"tag":"h3","lines":"102,103"}},{"content":"lockAllValues","children":[{"content":"<strong>Locks all keys</strong> for a UUID","children":[],"payload":{"tag":"li","lines":"109,110"}},{"content":"<strong>Params</strong>: <code>{ uuid, lock = true }</code>","children":[],"payload":{"tag":"li","lines":"110,111"}},{"content":"<strong>Response</strong>: <code>\"All values locked successfully.\"</code> or error","children":[],"payload":{"tag":"li","lines":"111,113"}}],"payload":{"tag":"h3","lines":"108,109"}},{"content":"unlockAllValues","children":[{"content":"<strong>Unlocks all keys</strong> for a UUID","children":[],"payload":{"tag":"li","lines":"114,115"}},{"content":"<strong>Requires</strong>: Admin role","children":[],"payload":{"tag":"li","lines":"115,116"}},{"content":"<strong>Params</strong>: <code>{ uuid }</code>","children":[],"payload":{"tag":"li","lines":"116,117"}},{"content":"<strong>Response</strong>: <code>\"All values unlocked successfully.\"</code> or error","children":[],"payload":{"tag":"li","lines":"117,119"}}],"payload":{"tag":"h3","lines":"113,114"}},{"content":"getValue","children":[{"content":"<strong>Retrieve</strong> a single key’s value","children":[],"payload":{"tag":"li","lines":"122,123"}},{"content":"<strong>Params</strong>: <code>{ uuid, key }</code>","children":[],"payload":{"tag":"li","lines":"123,124"}},{"content":"<strong>Response</strong>: Key’s value or error","children":[],"payload":{"tag":"li","lines":"124,126"}}],"payload":{"tag":"h3","lines":"121,122"}},{"content":"getAllValues","children":[{"content":"<strong>Retrieve</strong> all key-value pairs for a UUID","children":[],"payload":{"tag":"li","lines":"127,128"}},{"content":"<strong>Params</strong>: <code>uuid</code>","children":[],"payload":{"tag":"li","lines":"128,129"}},{"content":"<strong>Response</strong>: Vector of <code>(key, value)</code> or error","children":[],"payload":{"tag":"li","lines":"129,131"}}],"payload":{"tag":"h3","lines":"126,127"}},{"content":"getValueLockStatus","children":[{"content":"<strong>Check lock status</strong> for a single key","children":[],"payload":{"tag":"li","lines":"132,133"}},{"content":"<strong>Params</strong>: <code>{ uuid, key }</code>","children":[],"payload":{"tag":"li","lines":"133,134"}},{"content":"<strong>Response</strong>: <code>{ locked, lockedBy? }</code> or error","children":[],"payload":{"tag":"li","lines":"134,136"}}],"payload":{"tag":"h3","lines":"131,132"}},{"content":"getAllUUIDs","children":[{"content":"<strong>List</strong> either all UUIDs or only those owned by a principal","children":[],"payload":{"tag":"li","lines":"137,138"}},{"content":"<strong>Requires</strong>: Admin (all UUIDs) or Editor (own UUIDs)","children":[],"payload":{"tag":"li","lines":"138,139"}},{"content":"<strong>Params</strong>: <code>ownerPrincipal : ?Principal</code>","children":[],"payload":{"tag":"li","lines":"139,140"}},{"content":"<strong>Response</strong>: array of UUID strings or error","children":[],"payload":{"tag":"li","lines":"140,141"}}],"payload":{"tag":"h3","lines":"136,137"}}],"payload":{"tag":"h2","lines":"21,22"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
